<div>

    @if (authState.isLoggedIn()){
        <div>
            <ng-container *ngTemplateOutlet="layoutLoggedIn"></ng-container>
        </div>
    }@else {
        <div>
            <ng-container *ngTemplateOutlet="layoutNotLoggedIn"></ng-container>
        </div>
    }

    
    <ng-template #layoutNotLoggedIn>
        <div (click)="showPopup()">
            <div id="img-holder"></div>
            Connexion
        </div>
    </ng-template>

    <ng-template #layoutLoggedIn>
        <div>
             <div matButton [matMenuTriggerFor]="menu">
                <div id="img-holder"></div>
                {{this.authState.user()?.username}}
            </div>
            <mat-menu #menu="matMenu" class="small-menu">
                <button mat-menu-item>My profile</button>
                <button mat-menu-item (click)="authService.logout()">Logout</button>
            </mat-menu>
            
        </div>
    </ng-template>
    
</div>
